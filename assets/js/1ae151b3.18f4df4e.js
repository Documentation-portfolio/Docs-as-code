"use strict";(globalThis.webpackChunkdocs_as_code_temp=globalThis.webpackChunkdocs_as_code_temp||[]).push([[896],{3944:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"guides/ci-cd-configuration","title":"CI/CD Configuration for Docs-as-Code","description":"Table of contents","source":"@site/docs/guides/ci-cd-configuration.md","sourceDirName":"guides","slug":"/guides/ci-cd-configuration","permalink":"/Docs-as-code/docs/guides/ci-cd-configuration","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"ci-cd-configuration","title":"CI/CD Configuration for Docs-as-Code","slug":"/guides/ci-cd-configuration","sidebar_label":"CI/CD Configuration for Docs-as-Code"},"sidebar":"docsAsCodeSidebar","previous":{"title":"Docs-as-Code CI/CD Workflow Configuration","permalink":"/Docs-as-code/docs/guides/docs-as-code-ci-cd-workflow"},"next":{"title":"Workflow Setup Introduction","permalink":"/Docs-as-code/docs/guides/ci-cd-workflow-setup"}}');var i=o(4848),r=o(8453);const t={id:"ci-cd-configuration",title:"CI/CD Configuration for Docs-as-Code",slug:"/guides/ci-cd-configuration",sidebar_label:"CI/CD Configuration for Docs-as-Code"},c=void 0,d={},l=[{value:"Table of contents",id:"table-of-contents",level:2},{value:"Overview",id:"overview",level:2},{value:"Get Started",id:"get-started",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Repository and Environment configuration",id:"repository-and-environment-configuration",level:3},{value:"Repository strucutre",id:"repository-strucutre",level:4},{value:"Required Files",id:"required-files",level:4},{value:"Branch Strategy",id:"branch-strategy",level:4},{value:"Node / Python / Tool versions",id:"node--python--tool-versions",level:3}];function a(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"table-of-contents",children:"Table of contents"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#overview",children:"Overview"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#get-started",children:"Get Started"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#prerequisites",children:"Prerequisites"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#repository-structure",children:"Repository structure"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#required-files",children:"Required files"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#branch-strategy",children:"Branch strategy"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#node--python--tool-versions",children:"Node / Python / Tool versions"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The purpose of this document is to help you configure your repository and environment for Continuous Integration and Continuous Deployment (CI/CD) workflows for Docs-as-Code approach."}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"Docs-as-Code is a documentation approach that uses the same tools for documentation creation and maintenance as the tools used for code.\nYou can set up automated workflows in the CI/CD pipeline to save time, improve consistency, and ensure high-quality documentation deployment."}),"\n",(0,i.jsx)(n.h2,{id:"get-started",children:"Get Started"}),"\n",(0,i.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(n.p,{children:"Before you begin, ensure the following:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["You have a ",(0,i.jsx)(n.strong,{children:"GitHub repository"})," to host your Docusaurus documentation source files."]}),"\n",(0,i.jsxs)(n.li,{children:["All documents are inside the folder defined in the ",(0,i.jsx)(n.code,{children:"docusaurus.config.js"})," file."]}),"\n",(0,i.jsxs)(n.li,{children:["You have the ",(0,i.jsx)(n.strong,{children:"Administrator"})," or ",(0,i.jsx)(n.strong,{children:"Write"})," access to the ",(0,i.jsx)(n.strong,{children:"GitHub repository"})," to commit, push changes, and configure CI/CD settings."]}),"\n",(0,i.jsx)(n.li,{children:"A Docusaurus spported Node.js version is installed locally."}),"\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.strong,{children:"GitHub Actions"})," is set up for the repository."]}),"\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.strong,{children:"GitHub Pages"})," is configured to allow deployments from ",(0,i.jsx)(n.strong,{children:"GitHub Actions"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"You have a node-based site generator, such as Docusarus, installed and configured."}),"\n",(0,i.jsxs)(n.li,{children:["The deployment branch ",(0,i.jsx)(n.code,{children:"gh-pages"})," of your repository is ",(0,i.jsx)(n.strong,{children:"not restricted"})," in branch protection rules."]}),"\n",(0,i.jsxs)(n.li,{children:["In the ",(0,i.jsx)(n.code,{children:"package.json"})," file of your project, you have the following scripts defined:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'"scripts": {\n  "build": "docusaurus build",\n  "start": "docusaurus start",\n  "lint": "markdownlint docs/**/*.md",\n  "linkcheck": "docusaurus linkcheck"\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"repository-and-environment-configuration",children:"Repository and Environment configuration"}),"\n",(0,i.jsx)(n.h4,{id:"repository-strucutre",children:"Repository strucutre"}),"\n",(0,i.jsx)(n.p,{children:"Ensure your repository strucutre is similar to:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"my-docs-repo/\n  \u251c\u2500\u2500 package.json\n  \u251c\u2500\u2500 package-lock.json\n  \u251c\u2500\u2500 docusaurus.config.js   # or equivalent site config\n  \u251c\u2500\u2500 docs/                  # documentation source folder\n  \u251c\u2500\u2500 src/                   # site assets or customizations\n  \u2514\u2500\u2500 .github/\n        \u2514\u2500\u2500 workflows/       # workflows only run from this folder\n             \u251c\u2500\u2500 ci.yml\n             \u2514\u2500\u2500 deploy.yml\n\n"})}),"\n",(0,i.jsx)(n.h4,{id:"required-files",children:"Required Files"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"package.json"}),", ",(0,i.jsx)(n.code,{children:"pyproject.toml"}),", or ",(0,i.jsx)(n.code,{children:"requirements.txt"}),": lists build dependencies"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"docs/"})," or ",(0,i.jsx)(n.code,{children:"website/"}),": documentation source folder"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"docusaurus.config.js"}),": Docusaurus site configuration file"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:".github/actions/"}),": custom actions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:".github/workflows/*.yml"}),": workflow file"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"branch-strategy",children:"Branch Strategy"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"main"}),": primary development branch, pull requests target the ",(0,i.jsx)(n.code,{children:"main"})," branch"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"gh-pages"})," or ",(0,i.jsx)(n.code,{children:"docs"})," branch: optional publish branch for ",(0,i.jsx)(n.strong,{children:"GitHub Pages"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"preview/*"}),": branch for pull request preview deployments"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"node--python--tool-versions",children:"Node / Python / Tool versions"}),"\n",(0,i.jsxs)(n.p,{children:["Declare explicit runtime versions in workflow files to ensure reproducible builds, for example, ",(0,i.jsx)(n.code,{children:"node-version: 18.x"})," or ",(0,i.jsx)(n.code,{children:"python-version: 3.11"}),"."]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>t,x:()=>c});var s=o(6540);const i={},r=s.createContext(i);function t(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);