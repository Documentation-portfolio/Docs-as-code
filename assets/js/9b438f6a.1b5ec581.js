"use strict";(globalThis.webpackChunkdocs_as_code_temp=globalThis.webpackChunkdocs_as_code_temp||[]).push([[768],{3268:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"guides/validation","title":"Validation Workflow","description":"Setup a workflow to validate documentation for quality and standards each time a push or pull request is raised. This workflow validates the documentation quality by running automated formatting, markdown linting, and link validation checks.","source":"@site/docs/guides/validation.md","sourceDirName":"guides","slug":"/guides/validation","permalink":"/Docs-as-code/docs/guides/validation","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"validation","title":"Validation Workflow","slug":"/guides/validation","sidebar_label":"Setup a Validation Workflow"},"sidebar":"docsAsCodeSidebar","previous":{"title":"Workflow Setup Introduction","permalink":"/Docs-as-code/docs/guides/ci-cd-workflow-setup"},"next":{"title":"Setup a Deployment Workflow","permalink":"/Docs-as-code/docs/guides/deployment"}}');var o=i(4848),l=i(8453);const r={id:"validation",title:"Validation Workflow",slug:"/guides/validation",sidebar_label:"Setup a Validation Workflow"},s="Setup a Validation Workflow for Documentation",d={},a=[{value:"Setup a validation Workflow",id:"setup-a-validation-workflow",level:2}];function c(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"setup-a-validation-workflow-for-documentation",children:"Setup a Validation Workflow for Documentation"})}),"\n",(0,o.jsx)(e.p,{children:"Setup a workflow to validate documentation for quality and standards each time a push or pull request is raised. This workflow validates the documentation quality by running automated formatting, markdown linting, and link validation checks."}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Prettier"})," is used to enforce consistent formatting."]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Markdownlint"})," is used to validate the style and structure of the Markdown files."]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"markdown-link-check"})," is used to ensure all internal and external links are valid."]}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"Before you begin, perform the following:"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsx)(e.li,{children:"Install dependencies"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"In your terminal, run:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"npm install --save-dev prettier markdownlint-cli markdown-link-check\n"})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"prettier"}),": Format and style checker"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"markdownlint-cli"}),": Linter to check markdown formatting"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"markdown-link-check"}),": Checks external and internal links in markdown files"]}),"\n"]}),"\n",(0,o.jsxs)(e.ol,{start:"3",children:["\n",(0,o.jsxs)(e.li,{children:["In your project folder, create a ",(0,o.jsx)(e.code,{children:"prettierrc"})," file.\nPaste the following code in the ",(0,o.jsx)(e.code,{children:"prettierrc"})," file:"]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:'{\n  "printWidth": 100,\n  "tabWidth": 2,\n  "useTabs": false,\n  "singleQuote": true,\n  "trailingComma": "es5",\n  "proseWrap": "always"\n}\n'})}),"\n",(0,o.jsxs)(e.ol,{start:"4",children:["\n",(0,o.jsxs)(e.li,{children:["In your project folder, create a ",(0,o.jsx)(e.code,{children:"markdownlint.json"})," file.\nPaste the following code in the ",(0,o.jsx)(e.code,{children:"markdownlint.json"})," file and modify as per requirement:"]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:'{\n  "default": true,\n  "line-length": {\n    "line_length": 100\n  },\n  "MD013": false,          // allow long lines if required\n  "MD041": false           // allow files without top-level heading\n}\n'})}),"\n",(0,o.jsxs)(e.ol,{start:"5",children:["\n",(0,o.jsxs)(e.li,{children:["In your project folder, create a ",(0,o.jsx)(e.code,{children:"mlc.son"})," file.\nPaste the following code in the ",(0,o.jsx)(e.code,{children:"mlc.json"})," file:"]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:'{\n  "ignorePatterns": [       // helps you skip ephemeral or internal URLs\n    "https://example.com/.*",\n    "http://localhost:.*"\n  ],\n  "retryOn429": true,\n  "maxSockets": 10,\n  "headers": {}\n}\n'})}),"\n",(0,o.jsx)(e.h2,{id:"setup-a-validation-workflow",children:"Setup a validation Workflow"}),"\n",(0,o.jsxs)(e.p,{children:["Step 1. In the ",(0,o.jsx)(e.strong,{children:"Workflow"})," folder, create a file ",(0,o.jsx)(e.code,{children:"ci.yaml"}),"."]}),"\n",(0,o.jsxs)(e.p,{children:["Step 2. Paste the following workflow code in the ",(0,o.jsx)(e.code,{children:"ci.yaml"})," file:"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"name: Docs CI \u2014 Lint & Link Check\n\non:\n  pull_request:\n    branches: [ main ]\n  push:\n    branches: [ main ]\n\npermissions:\n  contents: read\n\njobs:\n  docs-verify:\n    name: Verify docs (format, lint, links)\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: '18'\n\n      - name: Cache node modules\n        uses: actions/cache@v4\n        with:\n          path: ~/.npm\n          key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}\n\n      - name: Install dependencies\n        run: npm ci\n\n      - name: Prettier format check\n        run: npm run format:check\n\n      - name: Markdown lint\n        run: npm run md:lint || npm run md:lint2\n\n      - name: Run link checks\n        run: |          \n          git ls-files 'docs/**/*.md' > /tmp/md-files.txt          \n          while IFS= read -r file; do\n            echo \"Checking links in: $file\"\n            npx markdown-link-check --config .mlc.json \"$file\" || exit 1\n          done < /tmp/md-files.txt\n\n"})}),"\n",(0,o.jsxs)(e.p,{children:["Step 3. In the ",(0,o.jsx)(e.code,{children:"package.json"})," file, add the following scripts."]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:'"{\n  "scripts": {\n    "format:check": "prettier --check \\"docs/**/*.md\\"",\n    "format:fix": "prettier --write \\"docs/**/*.md\\"",\n    "md:lint": "markdownlint \\"docs/**/*.md\\" --config .markdownlint.json",\n    "md:lint2": "markdownlint-cli2 \\"docs/**/*.md\\" --config .markdownlint.json",\n    "linkcheck": "markdown-link-check --config .mlc.json \\"$(git ls-files \'docs/**/*.md\')\\"",\n    "verify-docs": "npm run format:check && npm run md:lint && npm run linkcheck"\n  }\n}\n'})}),"\n",(0,o.jsx)(e.p,{children:"Step 4. Commit and push the file."}),"\n",(0,o.jsx)(e.p,{children:"In your terminal, run:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:'git add .github/workflows/ci.yml\ngit commit -m "Add CI workflow"\ngit push\n'})}),"\n",(0,o.jsx)(e.p,{children:"Each time a push or pull request is raised, the validation workflow is triggered, and the document is validated for broken links and markdown quality."})]})}function h(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(c,{...n})}):c(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>r,x:()=>s});var t=i(6540);const o={},l=t.createContext(o);function r(n){const e=t.useContext(l);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:r(n.components),t.createElement(l.Provider,{value:e},n.children)}}}]);