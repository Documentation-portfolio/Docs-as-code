"use strict";(globalThis.webpackChunkdocs_as_code_temp=globalThis.webpackChunkdocs_as_code_temp||[]).push([[768],{3268:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>a,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"guides/validation","title":"Validation Workflow","description":"Setup a workflow to validate documentation for quality and standards each time a push or pull request is raised. This workflow validates the documentation quality by running automated formatting, markdown linting, and link validation checks.","source":"@site/docs/guides/validation.md","sourceDirName":"guides","slug":"/guides/validation","permalink":"/Docs-as-code/docs/guides/validation","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"validation","title":"Validation Workflow","slug":"/guides/validation","sidebar_label":"Validation"},"sidebar":"docsAsCodeSidebar","previous":{"title":"CI/CD Configuration","permalink":"/Docs-as-code/docs/guides/ci-cd-configuration"},"next":{"title":"Deployment","permalink":"/Docs-as-code/docs/guides/deployment"}}');var t=r(4848),o=r(8453);const l={id:"validation",title:"Validation Workflow",slug:"/guides/validation",sidebar_label:"Validation"},s="Setup a Validation Workflow for Documentation",a={},d=[{value:"Setup a validation Workflow",id:"setup-a-validation-workflow",level:2}];function c(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"setup-a-validation-workflow-for-documentation",children:"Setup a Validation Workflow for Documentation"})}),"\n",(0,t.jsx)(e.p,{children:"Setup a workflow to validate documentation for quality and standards each time a push or pull request is raised. This workflow validates the documentation quality by running automated formatting, markdown linting, and link validation checks."}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Prettier is used to enforce consistent formatting."}),"\n",(0,t.jsx)(e.li,{children:"Markdownlint is used to validate the style and structure of the Markdown files."}),"\n",(0,t.jsx)(e.li,{children:"markdown-link-check is used to ensure all itnernal and external links are valid."}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"Before you begin, perform the following:"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Install dependencies\r\nIn your terminal, run:\r\nnpm install --save-dev prettier markdownlint-cli markdown-link-check"}),"\n"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"prettier"}),": Format and style checker"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"markdownlint-cli"}),": Linter to check markdown formatting"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"markdown-link-check"}),": Checks external and internal links in markdown files"]}),"\n"]}),"\n",(0,t.jsxs)(e.ol,{start:"3",children:["\n",(0,t.jsxs)(e.li,{children:["In your project folder, create a ",(0,t.jsx)(e.code,{children:"prettierrc"})," file.\r\nPaste the following code in the ",(0,t.jsx)(e.code,{children:"prettierrc"})," file:"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'{\r\n  "printWidth": 100,\r\n  "tabWidth": 2,\r\n  "useTabs": false,\r\n  "singleQuote": true,\r\n  "trailingComma": "es5",\r\n  "proseWrap": "always"\r\n}\n'})}),"\n",(0,t.jsxs)(e.ol,{start:"4",children:["\n",(0,t.jsxs)(e.li,{children:["In your project folder, create a ",(0,t.jsx)(e.code,{children:"markdownlint.json"})," file.\r\nPaste the following code in the ",(0,t.jsx)(e.code,{children:"markdownlint.json"})," file and modify as per requirement:"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'{\r\n  "default": true,\r\n  "line-length": {\r\n    "line_length": 100\r\n  },\r\n  "MD013": false,          // allow long lines if required\r\n  "MD041": false           // allow files without top-level heading\r\n}\n'})}),"\n",(0,t.jsxs)(e.ol,{start:"5",children:["\n",(0,t.jsxs)(e.li,{children:["In your project folder, create a ",(0,t.jsx)(e.code,{children:"mlc.son"})," file.\r\nPaste the following code in the ",(0,t.jsx)(e.code,{children:"mlc.json"})," file:"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'{\r\n  "ignorePatterns": [       // helps you skip ephemeral or internal URLs\r\n    "https://example.com/.*",\r\n    "http://localhost:.*"\r\n  ],\r\n  "retryOn429": true,\r\n  "maxSockets": 10,\r\n  "headers": {}\r\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"setup-a-validation-workflow",children:"Setup a validation Workflow"}),"\n",(0,t.jsxs)(e.p,{children:["Step 1. In the ",(0,t.jsx)(e.strong,{children:"Workflow"})," folder, create a file ",(0,t.jsx)(e.code,{children:"ci.yaml"}),".\r\nStep 2. Paste the following workflow code in the ",(0,t.jsx)(e.code,{children:"ci.yaml"})," file:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"name: Docs CI \u2014 Lint & Link Check\r\n\r\non:\r\n  pull_request:\r\n    branches: [ main ]\r\n  push:\r\n    branches: [ main ]\r\n\r\npermissions:\r\n  contents: read\r\n\r\njobs:\r\n  docs-verify:\r\n    name: Verify docs (format, lint, links)\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Checkout\r\n        uses: actions/checkout@v4\r\n\r\n      - name: Setup Node.js\r\n        uses: actions/setup-node@v4\r\n        with:\r\n          node-version: '18'\r\n\r\n      - name: Cache node modules\r\n        uses: actions/cache@v4\r\n        with:\r\n          path: ~/.npm\r\n          key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}\r\n\r\n      - name: Install dependencies\r\n        run: npm ci\r\n\r\n      - name: Prettier format check\r\n        run: npm run format:check\r\n\r\n      - name: Markdown lint\r\n        run: npm run md:lint || npm run md:lint2\r\n\r\n      - name: Run link checks\r\n        run: |\r\n          # generate list of markdown files tracked in git and run markdown-link-check on each\r\n          git ls-files 'docs/**/*.md' > /tmp/md-files.txt\r\n          # parallel checks could be added; run sequentially to keep logs readable\r\n          while IFS= read -r file; do\r\n            echo \"Checking links in: $file\"\r\n            npx markdown-link-check --config .mlc.json \"$file\" || exit 1\r\n          done < /tmp/md-files.txt\r\n\n"})}),"\n",(0,t.jsxs)(e.p,{children:["Step 3. In the ",(0,t.jsx)(e.code,{children:"package.json"})," file, add the following scripts."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'"{\r\n  "scripts": {\r\n    "format:check": "prettier --check \\"docs/**/*.md\\"",\r\n    "format:fix": "prettier --write \\"docs/**/*.md\\"",\r\n    "md:lint": "markdownlint \\"docs/**/*.md\\" --config .markdownlint.json",\r\n    "md:lint2": "markdownlint-cli2 \\"docs/**/*.md\\" --config .markdownlint.json",\r\n    "linkcheck": "markdown-link-check --config .mlc.json \\"$(git ls-files \'docs/**/*.md\')\\"",\r\n    "verify-docs": "npm run format:check && npm run md:lint && npm run linkcheck"\r\n  }\r\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"Step 4. Commit and push the file.\r\nIn your terminal, run:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'git add .github/workflows/ci.yml\r\ngit commit -m "Add CI workflow"\r\ngit push\n'})}),"\n",(0,t.jsx)(e.p,{children:"Each time a push or pull request is raised, validation workflow is triggered, and the document is validated for broken links and markdown quality."})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(c,{...n})}):c(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>l,x:()=>s});var i=r(6540);const t={},o=i.createContext(t);function l(n){const e=i.useContext(o);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:l(n.components),i.createElement(o.Provider,{value:e},n.children)}}}]);