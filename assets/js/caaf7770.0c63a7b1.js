"use strict";(globalThis.webpackChunkdocs_as_code_temp=globalThis.webpackChunkdocs_as_code_temp||[]).push([[669],{7386:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"guides/deployment","title":"Deployment Workflow","description":"Create a workflow to build and deploy the documentation site each time changes are pushed to the main branch. This workflow publishes the static site to GitHub Pages and ensures the latest approved documentation is always live and accessible.","source":"@site/docs/guides/deployment.md","sourceDirName":"guides","slug":"/guides/deployment","permalink":"/Docs-as-code/docs/guides/deployment","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"deployment","title":"Deployment Workflow","slug":"/guides/deployment","sidebar_label":"Deployment"},"sidebar":"docsAsCodeSidebar","previous":{"title":"Validation","permalink":"/Docs-as-code/docs/guides/validation"},"next":{"title":"PR Preview","permalink":"/Docs-as-code/docs/guides/pr-preview"}}');var s=t(4848),r=t(8453);const i={id:"deployment",title:"Deployment Workflow",slug:"/guides/deployment",sidebar_label:"Deployment"},l="Setup a Deployment Workflow to Publish Documentation",d={},a=[{value:"Setup a Deployment Workflow",id:"setup-a-deployment-workflow",level:4}];function c(e){const n={code:"code",h1:"h1",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"setup-a-deployment-workflow-to-publish-documentation",children:"Setup a Deployment Workflow to Publish Documentation"})}),"\n",(0,s.jsxs)(n.p,{children:["Create a workflow to build and deploy the documentation site each time changes are pushed to the ",(0,s.jsx)(n.code,{children:"main"})," branch. This workflow publishes the static site to ",(0,s.jsx)(n.strong,{children:"GitHub Pages"})," and ensures the latest approved documentation is always live and accessible."]}),"\n",(0,s.jsx)(n.p,{children:"Before you begin, ensure the following:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Ensure ",(0,s.jsx)(n.strong,{children:"GitHub Pages"})," is setup for your repository."]}),"\n",(0,s.jsxs)(n.li,{children:["Docusaurus outputs the static files to the ",(0,s.jsx)(n.code,{children:"build/"})," directory.\r\nIn your terminal, run:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"publish_dir: ./build\n"})}),"\n",(0,s.jsx)(n.h4,{id:"setup-a-deployment-workflow",children:"Setup a Deployment Workflow"}),"\n",(0,s.jsxs)(n.p,{children:["Step 1. In the ",(0,s.jsx)(n.strong,{children:"Workflow"})," folder, create a file ",(0,s.jsx)(n.code,{children:"deploy.yaml"}),".\r\nStep 2. Paste the following workflow code into the ",(0,s.jsx)(n.code,{children:"deploy.yaml"})," file:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"name: Deploy Docs\r\non:\r\n  push:\r\n    branches: [ main ]\r\n\r\npermissions:\r\n  contents: write\r\n\r\njobs:\r\n  deploy:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Checkout\r\n        uses: actions/checkout@v4\r\n\r\n      - name: Use Node\r\n        uses: actions/setup-node@v4\r\n        with:\r\n          node-version: '18'\r\n\r\n      - name: Install dependencies\r\n        run: npm ci\r\n\r\n      - name: Build site\r\n        run: npm run build\r\n\r\n      - name: Deploy to GitHub Pages\r\n        uses: peaceiris/actions-gh-pages@v4\r\n        with:\r\n          github_token: ${{ secrets.GITHUB_TOKEN }}\r\n          publish_dir: ./build\n"})}),"\n",(0,s.jsx)(n.p,{children:"Step 3. Commit and push the file.\r\nIn your terminal, run:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'git add .github/workflows/deploy.yml\r\ngit commit -m "Add deployment workflow"\r\ngit push\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Each time changes are pushed to the ",(0,s.jsx)(n.code,{children:"main"})," branch, the deployment workflow is triggered, and the static site is published to ",(0,s.jsx)(n.strong,{children:"GitHub Pages"}),"."]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>l});var o=t(6540);const s={},r=o.createContext(s);function i(e){const n=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);