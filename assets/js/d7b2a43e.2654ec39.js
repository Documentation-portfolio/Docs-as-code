"use strict";(globalThis.webpackChunkdocs_as_code_temp=globalThis.webpackChunkdocs_as_code_temp||[]).push([[191],{2585:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"guides/troubleshoot-workflows","title":"Troubleshoot Workflows","description":"The purpose of this document is to guide you through failed workflows and help you identify failure sources, interpret logs, and apply fixes.","source":"@site/docs/guides/Troubleshoot.md","sourceDirName":"guides","slug":"/guides/troubleshoot-workflows","permalink":"/Docs-as-code/docs/guides/troubleshoot-workflows","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"troubleshoot-workflows","title":"Troubleshoot Workflows","sidebar_label":"Troubleshoot Workflows","slug":"/guides/troubleshoot-workflows"}}');var o=n(4848),r=n(8453);const i={id:"troubleshoot-workflows",title:"Troubleshoot Workflows",sidebar_label:"Troubleshoot Workflows",slug:"/guides/troubleshoot-workflows"},l="Troubleshoot Workflows",d={},c=[{value:"Troubleshoot Workflows: Action Logs and Status Checks",id:"troubleshoot-workflows-action-logs-and-status-checks",level:3},{value:"Step 1: Identify the failed job.",id:"step-1-identify-the-failed-job",level:4},{value:"Step 2: Locate the failed step.",id:"step-2-locate-the-failed-step",level:4},{value:"Step 3: Analyze the error.",id:"step-3-analyze-the-error",level:4},{value:"Common Failures and Resolutions",id:"common-failures-and-resolutions",level:3},{value:"Advanced Debugging Techniques",id:"advanced-debugging-techniques",level:3},{value:"Allow Verbose Step Debugging",id:"allow-verbose-step-debugging",level:4},{value:"Insert Diagnostic Steps",id:"insert-diagnostic-steps",level:4},{value:"Use Conditional Steps for Cleanup",id:"use-conditional-steps-for-cleanup",level:4}];function a(e){const s={blockquote:"blockquote",code:"code",em:"em",h1:"h1",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.header,{children:(0,o.jsx)(s.h1,{id:"troubleshoot-workflows",children:"Troubleshoot Workflows"})}),"\n",(0,o.jsx)(s.p,{children:"The purpose of this document is to guide you through failed workflows and help you identify failure sources, interpret logs, and apply fixes."}),"\n",(0,o.jsxs)(s.p,{children:["The primary tool for workflow failure analysis is ",(0,o.jsx)(s.strong,{children:"Run Log"}),", ",(0,o.jsx)(s.strong,{children:"Status Check"}),", and ",(0,o.jsx)(s.strong,{children:"job-level step outputs"}),"."]}),"\n",(0,o.jsx)(s.h3,{id:"troubleshoot-workflows-action-logs-and-status-checks",children:"Troubleshoot Workflows: Action Logs and Status Checks"}),"\n",(0,o.jsx)(s.h4,{id:"step-1-identify-the-failed-job",children:"Step 1: Identify the failed job."}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:"Open the workflow run."}),"\n",(0,o.jsxs)(s.li,{children:["In the ",(0,o.jsx)(s.strong,{children:"Summary"})," tab, view the failed job with a red X."]}),"\n",(0,o.jsx)(s.li,{children:"To view the individual steps, expand the job."}),"\n"]}),"\n",(0,o.jsx)(s.h4,{id:"step-2-locate-the-failed-step",children:"Step 2: Locate the failed step."}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:"Within the failed job, find the failed step with a red 'X'."}),"\n",(0,o.jsx)(s.li,{children:"Click to expand logs for the failed step."}),"\n"]}),"\n",(0,o.jsx)(s.h4,{id:"step-3-analyze-the-error",children:"Step 3: Analyze the error."}),"\n",(0,o.jsx)(s.p,{children:"Analyze:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:"Stack traces"}),"\n",(0,o.jsx)(s.li,{children:"Error codes"}),"\n",(0,o.jsx)(s.li,{children:"Runtime exceptions"}),"\n",(0,o.jsx)(s.li,{children:"Exit codes (For example, exited with code 1)"}),"\n"]}),"\n",(0,o.jsxs)(s.blockquote,{children:["\n",(0,o.jsx)(s.p,{children:"[!TIP:]\nThe root cause of failure is mostly in the last 5-10 log lines before the failure message."}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:"Example signals:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.em,{children:"Error: Cannot find module..."})}),"\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.em,{children:"npm ERR! code ELIFECYCLE"})}),"\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.em,{children:"Process completed with exit code 1"})}),"\n"]}),"\n",(0,o.jsx)(s.h3,{id:"common-failures-and-resolutions",children:"Common Failures and Resolutions"}),"\n",(0,o.jsx)(s.p,{children:"The following table lists the common GitHub Actions workflow failures and resolutions:"}),"\n",(0,o.jsxs)(s.table,{children:[(0,o.jsx)(s.thead,{children:(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.th,{children:"Failure Scenario"}),(0,o.jsx)(s.th,{children:"Log Indication (Example)"}),(0,o.jsx)(s.th,{children:"Resolution Steps"})]})}),(0,o.jsxs)(s.tbody,{children:[(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:(0,o.jsx)(s.strong,{children:"Dependency Installation Failure"})}),(0,o.jsxs)(s.td,{children:[(0,o.jsx)(s.code,{children:"npm ERR! code ELIFECYCLE"})," ",(0,o.jsx)("br",{})," ",(0,o.jsx)(s.code,{children:"ERROR: Could not find a version that satisfies the requirement..."})]}),(0,o.jsxs)(s.td,{children:["\u2022 Validate package installation command (",(0,o.jsx)(s.code,{children:"npm ci"}),", ",(0,o.jsx)(s.code,{children:"pip install -r requirements.txt"}),"). ",(0,o.jsx)("br",{}),"\u2022 Ensure correct runtime version in ",(0,o.jsx)(s.code,{children:"actions/setup-node"}),", ",(0,o.jsx)(s.code,{children:"actions/setup-python"}),", etc. ",(0,o.jsx)("br",{}),"\u2022 Check for corrupted lockfiles."]})]}),(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:(0,o.jsx)(s.strong,{children:"Test or Linter Failure"})}),(0,o.jsxs)(s.td,{children:[(0,o.jsx)(s.code,{children:"Failing tests: 2"})," ",(0,o.jsx)("br",{})," ",(0,o.jsx)(s.code,{children:"Linter found 10 errors."})," ",(0,o.jsx)("br",{})," ",(0,o.jsx)(s.code,{children:"Exited with code 1"})]}),(0,o.jsxs)(s.td,{children:["\u2022 Review test output for assertion failures. ",(0,o.jsx)("br",{}),"\u2022 Fix code quality violations. ",(0,o.jsx)("br",{}),"\u2022 Re-run locally to confirm."]})]}),(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:(0,o.jsx)(s.strong,{children:"Artifact Not Found"})}),(0,o.jsxs)(s.td,{children:[(0,o.jsx)(s.code,{children:"Error: The artifact 'app-dist' could not be downloaded."})," ",(0,o.jsx)("br",{})," ",(0,o.jsx)(s.code,{children:"Unable to find any artifacts for the run."})]}),(0,o.jsxs)(s.td,{children:["\u2022 Ensure ",(0,o.jsx)(s.strong,{children:"artifact name matches"})," in upload and download steps. ",(0,o.jsx)("br",{}),"\u2022 Confirm the upload step ran successfully. ",(0,o.jsx)("br",{}),"\u2022 For matrix jobs, validate artifact naming per instance."]})]}),(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:(0,o.jsx)(s.strong,{children:"Secret / Authentication Error"})}),(0,o.jsxs)(s.td,{children:[(0,o.jsx)(s.code,{children:"Error 403: Forbidden"})," ",(0,o.jsx)("br",{})," ",(0,o.jsx)(s.code,{children:"Unauthorized"})," ",(0,o.jsx)("br",{})," ",(0,o.jsx)(s.code,{children:"Authentication failed for..."})]}),(0,o.jsxs)(s.td,{children:["\u2022 Verify secret exists in the repository or environment. ",(0,o.jsx)("br",{}),"\u2022 Check correct syntax (",(0,o.jsx)(s.code,{children:"${{ secrets.API_KEY }}"}),"). ",(0,o.jsx)("br",{}),"\u2022 Ensure job uses the correct environment (required for protected secrets)."]})]}),(0,o.jsxs)(s.tr,{children:[(0,o.jsx)(s.td,{children:(0,o.jsx)(s.strong,{children:"Resource Constraints"})}),(0,o.jsxs)(s.td,{children:[(0,o.jsx)(s.code,{children:"No space left on device"})," ",(0,o.jsx)("br",{})," ",(0,o.jsx)(s.code,{children:"Out of memory error"})]}),(0,o.jsxs)(s.td,{children:["\u2022 Switch to a larger hosted runner (e.g., ",(0,o.jsx)(s.code,{children:"ubuntu-latest"})," \u2192 ",(0,o.jsx)(s.code,{children:"ubuntu-24.04"})," or self-hosted). ",(0,o.jsx)("br",{}),"\u2022 Clear cache, reduce logs, and compress build output. ",(0,o.jsx)("br",{}),"\u2022 Split heavy steps into smaller tasks."]})]})]})]}),"\n",(0,o.jsx)(s.h3,{id:"advanced-debugging-techniques",children:"Advanced Debugging Techniques"}),"\n",(0,o.jsx)(s.p,{children:"Use the following techniques for intermittent or hard-to-reproduce workflow failures."}),"\n",(0,o.jsx)(s.h4,{id:"allow-verbose-step-debugging",children:"Allow Verbose Step Debugging"}),"\n",(0,o.jsx)(s.p,{children:"GitHub Actions support internal debug logs. The verbose step helps expand tool invocation logs, internal error messages, and more detailed environment information."}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsxs)(s.li,{children:["Select ",(0,o.jsx)(s.strong,{children:"Repo Settings"}),", select ",(0,o.jsx)(s.strong,{children:"Secrets"}),", and then select ",(0,o.jsx)(s.strong,{children:"Actions"}),"."]}),"\n",(0,o.jsx)(s.li,{children:"Add a secret named:"}),"\n"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{children:"ACTIONS_STEP_DEBUG = true\n\n"})}),"\n",(0,o.jsxs)(s.ol,{start:"3",children:["\n",(0,o.jsx)(s.li,{children:"Re-run the workflow."}),"\n"]}),"\n",(0,o.jsxs)(s.blockquote,{children:["\n",(0,o.jsx)(s.p,{children:"[!Important:]\nRemove the secret after debugging to reduce log noise."}),"\n"]}),"\n",(0,o.jsx)(s.h4,{id:"insert-diagnostic-steps",children:"Insert Diagnostic Steps"}),"\n",(0,o.jsx)(s.p,{children:"Add a temporary diagnostic step before a suspicious step to inspect environment and filesystem state. The diagnostic steps helps validate file paths, confirm environment variable availability, and debug missing dependencies or build artifacts."}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{children:'- name: Debug Environment and Filesystem\n  if: always()\n  run: |\n    echo "Directory Structure:"\n    ls -la\n    echo "Environment Variables:"\n    env | grep API\n'})}),"\n",(0,o.jsx)(s.h4,{id:"use-conditional-steps-for-cleanup",children:"Use Conditional Steps for Cleanup"}),"\n",(0,o.jsx)(s.p,{children:"When failure occurs, you may need cleanup tasks such as remove temp files, notify systems, delete preview resources. The conditional steps ensure no partial state is left behind and external systems are not polluted with incomplete preview builds or stale resources.\nUse:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{children:"if: always()\n"})}),"\n",(0,o.jsx)(s.p,{children:"Example:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{children:"- name: Cleanup temporary files\n  if: always()\n  run: rm -rf temp/\n\n"})})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>l});var t=n(6540);const o={},r=t.createContext(o);function i(e){const s=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);